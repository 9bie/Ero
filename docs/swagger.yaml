basePath: /api/v1
definitions:
  api.Verify:
    properties:
      code_id:
        type: string
      data:
        type: string
    type: object
  serializer.Archive:
    properties:
      author:
        type: string
      content:
        type: string
      cover:
        type: string
      create_id:
        type: integer
      create_name:
        type: string
      created_at:
        type: integer
      id:
        type: integer
      japanese_title:
        type: string
      primary_content:
        type: string
      tag:
        type: string
      title:
        type: string
      update_at:
        type: integer
    type: object
  serializer.ArchiveListResponse:
    properties:
      all:
        type: integer
      count:
        type: integer
      data:
        items:
          $ref: '#/definitions/serializer.Archive'
        type: array
      error:
        example: Error.
        type: string
      have_last:
        type: boolean
      have_next:
        type: boolean
      msg:
        type: string
      pages:
        type: integer
      status:
        example: 200
        type: integer
    type: object
  serializer.ArchiveResponse:
    properties:
      data:
        $ref: '#/definitions/serializer.Archive'
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
  serializer.Category:
    properties:
      count:
        type: integer
      id:
        type: integer
      title:
        type: string
      type:
        type: integer
    type: object
  serializer.CategoryListResponse:
    properties:
      all:
        type: integer
      count:
        type: integer
      data:
        items:
          $ref: '#/definitions/serializer.Category'
        type: array
      error:
        example: Error.
        type: string
      have_last:
        type: boolean
      have_next:
        type: boolean
      msg:
        type: string
      pages:
        type: integer
      status:
        example: 200
        type: integer
    type: object
  serializer.CategoryResponse:
    properties:
      data:
        $ref: '#/definitions/serializer.Category'
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
  serializer.Comment:
    properties:
      author_avatar:
        type: string
      author_id:
        type: integer
      author_name:
        type: string
      id:
        type: integer
      raw:
        type: integer
      raw_title:
        type: string
      reply:
        type: integer
      reply_title:
        type: string
      time:
        type: string
      title:
        type: string
      type:
        type: integer
    type: object
  serializer.CommentListResponse:
    properties:
      all:
        type: integer
      count:
        type: integer
      data:
        items:
          $ref: '#/definitions/serializer.Comment'
        type: array
      error:
        example: Error.
        type: string
      have_last:
        type: boolean
      have_next:
        type: boolean
      msg:
        type: string
      pages:
        type: integer
      status:
        example: 200
        type: integer
    type: object
  serializer.CommentResponse:
    properties:
      data:
        $ref: '#/definitions/serializer.Comment'
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
  serializer.File:
    properties:
      filename:
        type: string
      hash:
        type: string
      id:
        type: integer
      token:
        type: string
      type:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  serializer.FileResponse:
    properties:
      data:
        $ref: '#/definitions/serializer.File'
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
  serializer.Message:
    properties:
      create_time:
        type: string
      id:
        type: integer
      is_read:
        type: boolean
      recv_id:
        type: integer
      recv_name:
        type: string
      send_id:
        type: integer
      send_name:
        type: string
      title:
        type: string
    type: object
  serializer.MessageListResponse:
    properties:
      all:
        type: integer
      count:
        type: integer
      data:
        items:
          $ref: '#/definitions/serializer.Message'
        type: array
      error:
        example: Error.
        type: string
      have_last:
        type: boolean
      have_next:
        type: boolean
      msg:
        type: string
      pages:
        type: integer
      status:
        example: 200
        type: integer
    type: object
  serializer.MessageResponse:
    properties:
      data:
        $ref: '#/definitions/serializer.Message'
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
  serializer.Novel:
    properties:
      author:
        type: string
      cover:
        type: string
      description:
        type: string
      ended:
        type: boolean
      id:
        type: integer
      level:
        type: integer
      subscribed:
        type: integer
      tags:
        type: string
      title:
        type: string
      update_at:
        type: integer
    type: object
  serializer.NovelListResponse:
    properties:
      all:
        type: integer
      count:
        type: integer
      data:
        items:
          $ref: '#/definitions/serializer.Novel'
        type: array
      error:
        example: Error.
        type: string
      have_last:
        type: boolean
      have_next:
        type: boolean
      msg:
        type: string
      pages:
        type: integer
      status:
        example: 200
        type: integer
    type: object
  serializer.NovelResponse:
    properties:
      data:
        $ref: '#/definitions/serializer.Novel'
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
  serializer.Response:
    properties:
      data:
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
  serializer.User:
    properties:
      avatar:
        type: string
      bio:
        type: string
      created_at:
        type: integer
      hito:
        type: string
      id:
        type: integer
      mail:
        type: string
      nickname:
        type: string
      point:
        type: integer
      status:
        type: string
      user_name:
        type: string
      website:
        type: string
    type: object
  serializer.UserResponse:
    properties:
      data:
        $ref: '#/definitions/serializer.User'
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
  serializer.Volume:
    properties:
      cover:
        type: string
      file_id:
        type: integer
      id:
        type: integer
      novel_id:
        type: integer
      novel_name:
        type: string
      title:
        type: string
      type:
        type: integer
      z_index:
        type: integer
    type: object
  serializer.VolumeResponse:
    properties:
      data:
        $ref: '#/definitions/serializer.Volume'
        type: object
      error:
        example: Error.
        type: string
      msg:
        type: string
      status:
        example: 200
        type: integer
    type: object
host: api.ero.ink
info:
  contact:
    email: blackguwc@163.com
    name: API Support
    url: https://9bie.org
  description: Ero Server 's hmp BackEnd
  license:
    name: What the Fuck PL
    url: https://ero.ink
  termsOfService: https://api.ero.ink
  title: Ero BackEnd API
  version: "1.0"
paths:
  /api/v1/admin/user/:
    put:
      consumes:
      - text/html
      description: 必须为管理
      parameters:
      - description: 用户ID
        in: path
        name: id
        type: integer
      - description: 昵称
        in: formData
        name: nickname
        type: string
      - description: 用户头像
        in: formData
        name: avatar
        type: string
      - description: 下载点数
        in: formData
        name: point
        type: integer
      - description: 用户状态：driver，active，inactive，suspend，admin
        in: formData
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.UserResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 超级：更新用户信息
      tags:
      - user
      - admin
  /api/v1/archive/:
    delete:
      consumes:
      - text/html
      description: 必须要登陆且创建者为自己或者管理员
      parameters:
      - description: 文章ID
        in: path
        name: ID
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除文章
      tags:
      - archive
    get:
      consumes:
      - text/html
      description: 获取单个文章的详细信息
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.ArchiveResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 获取文章
      tags:
      - archive
    post:
      consumes:
      - text/html
      description: 必须要登陆
      parameters:
      - description: 标题
        in: formData
        name: title
        required: true
        type: string
      - description: 日文标题
        in: formData
        name: japanese_title
        type: string
      - description: 作者
        in: formData
        name: author
        type: string
      - description: 文章内容
        in: formData
        name: content
        type: string
      - description: 隐藏内容
        in: formData
        name: primary_content
        type: string
      - description: 封面，这个是个url地址
        in: formData
        name: cover
        type: string
      - description: '标签，推荐使用/分割，例如 纯爱/治愈/等等 '
        in: formData
        name: tag
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.ArchiveResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 创建文章
      tags:
      - archive
    put:
      consumes:
      - text/html
      description: 必须要登陆且创建者为自己或者自己权限是管理员
      parameters:
      - description: 文章ID
        in: path
        name: ID
        required: true
        type: integer
      - description: 标题
        in: formData
        name: title
        required: true
        type: string
      - description: 日文标题
        in: formData
        name: japanese_title
        type: string
      - description: 作者
        in: formData
        name: author
        type: string
      - description: 文章内容
        in: formData
        name: content
        type: string
      - description: 隐藏内容
        in: formData
        name: primary_content
        type: string
      - description: 封面，这个是个url地址
        in: formData
        name: cover
        type: string
      - description: '标签，推荐使用/分割，例如 纯爱/治愈/等等 '
        in: formData
        name: tag
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.ArchiveResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 更新文章
      tags:
      - archive
  /api/v1/archives/:
    get:
      consumes:
      - text/html
      parameters:
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.ArchiveListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 文章列表
      tags:
      - archive
  /api/v1/category/:
    delete:
      consumes:
      - text/html
      description: 必须为管理员
      parameters:
      - description: 分类ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除分类
      tags:
      - category
      - admin
    get:
      consumes:
      - text/html
      parameters:
      - description: 类型。1为文章，2为小说
        in: formData
        name: type
        type: integer
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.CategoryListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 分类列表
      tags:
      - category
    post:
      consumes:
      - text/html
      description: 必须登陆
      parameters:
      - description: 分类标题
        in: formData
        name: title
        required: true
        type: string
      - description: 类型1为文章。2为小说
        in: formData
        name: type
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.CategoryResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 创建分类
      tags:
      - category
      - admin
    put:
      consumes:
      - text/html
      description: 必须为管理员
      parameters:
      - description: 分类ID
        in: path
        name: id
        type: integer
      - description: 分类标题
        in: formData
        name: title
        required: true
        type: string
      - description: 类型，1为文章2为小说
        in: formData
        name: type
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.CategoryResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 创建分类
      tags:
      - category
      - admin
  /api/v1/category/archive/:
    delete:
      consumes:
      - text/html
      description: 接收者必须为自己管理员
      parameters:
      - description: 小说ID
        in: formData
        name: novel
        required: true
        type: integer
      - description: 分类ID
        in: formData
        name: category
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除文章分类关联
      tags:
      - archive
      - category
      - admin
    post:
      consumes:
      - text/html
      description: 必须为管理员
      parameters:
      - description: 文章ID
        in: formData
        name: archive
        required: true
        type: integer
      - description: 分类ID
        in: formData
        name: category
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 添加文章分类关联
      tags:
      - archive
      - category
      - admin
  /api/v1/category/novel/:
    delete:
      consumes:
      - text/html
      description: 接收者必须为自己管理员
      parameters:
      - description: 小说ID
        in: formData
        name: novel
        required: true
        type: integer
      - description: 分类ID
        in: formData
        name: category
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除小说分类关联
      tags:
      - novel
      - category
      - admin
    post:
      consumes:
      - text/html
      description: 必须为管理员
      parameters:
      - description: 小说ID
        in: formData
        name: novel
        required: true
        type: integer
      - description: 分类ID
        in: formData
        name: category
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 添加小说分类关联
      tags:
      - novel
      - category
      - admin
  /api/v1/comment/:
    delete:
      consumes:
      - text/html
      description: 必须为管理员
      parameters:
      - description: 分类ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除分类
      tags:
      - comment
    get:
      consumes:
      - text/html
      parameters:
      - description: 回复对象ID
        in: path
        name: id
        type: integer
      - description: 类型：1为文章，2为小说
        in: formData
        name: type
        type: integer
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.CommentListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 评论列表
      tags:
      - comment
    post:
      consumes:
      - text/html
      description: 必须登陆
      parameters:
      - description: 小说标题
        in: formData
        name: title
        required: true
        type: string
      - description: 小说作者
        in: formData
        name: author
        required: true
        type: string
      - description: 小说封面，URL，如果封面为空的话泽会自动替换。默认封面请检查conf.DefaultCover字段
        in: formData
        name: cover
        type: string
      - description: 小说简介
        in: formData
        name: description
        type: integer
      - description: 是否完结
        in: formData
        name: ended
        required: true
        type: boolean
      - description: tags 推荐使用/分割
        in: formData
        name: tags
        required: true
        type: integer
      - description: 目标等级：还未实现
        in: formData
        name: level
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.NovelResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 创建小说
      tags:
      - novel
  /api/v1/download/:
    get:
      consumes:
      - text/html
      description: 必须要登陆，文件ID就是在这里去拿的，图片等静态 文件可以直接访问/img/获得，novel必须要经过/download
      parameters:
      - description: 从/api/v1/novel/volume/:id得来
        in: query
        name: token
        required: true
        type: string
      - description: 从/api/v1/novel/volume/:id得来
        in: query
        name: filename
        required: true
        type: string
      - description: 从/api/v1/novel/volume/:id得来
        in: query
        name: hash
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.FileResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 下载小说分卷
      tags:
      - file
      - volume
  /api/v1/message/:
    delete:
      consumes:
      - text/html
      description: 接收者必须为自己或者用户权限为管理员
      parameters:
      - description: 分类ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除消息
      tags:
      - message
    get:
      consumes:
      - text/html
      description: 必须登陆
      parameters:
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.MessageListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 分类列表
      tags:
      - message
    post:
      consumes:
      - text/html
      description: 有这个接口的实现，但是暂未启用.jpg
      parameters:
      - description: 消息内容
        in: formData
        name: title
        required: true
        type: string
      - description: 回复用户 ID
        in: formData
        name: recv
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.MessageResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 创建消息
      tags:
      - message
    put:
      consumes:
      - text/html
      description: 必须为管理员或者接收者为自己
      parameters:
      - description: 消息ID
        in: path
        name: id
        type: integer
      - description: 是否已读
        in: formData
        name: read
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.MessageResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 更新消息
      tags:
      - message
  /api/v1/novel/:
    delete:
      consumes:
      - text/html
      description: 接收者必须为自己或者用户权限为管理员
      parameters:
      - description: 小说ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除小说
      tags:
      - novel
    get:
      consumes:
      - text/html
      parameters:
      - description: 小说ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.NovelResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 获取小说详细
      tags:
      - novel
    put:
      consumes:
      - text/html
      parameters:
      - description: 小说ID
        in: path
        name: id
        type: integer
      - description: 小说标题
        in: formData
        name: title
        required: true
        type: string
      - description: 小说封面
        in: formData
        name: cover
        required: true
        type: string
      - description: 是否完结
        in: formData
        name: Ended
        required: true
        type: boolean
      - description: 目标等级：还未实现
        in: formData
        name: level
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.NovelResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 更新小说
      tags:
      - novel
  /api/v1/novel/subscribe/:
    delete:
      consumes:
      - text/html
      description: 必须登陆
      parameters:
      - description: 小说id
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 取消订阅小说
      tags:
      - novel
    get:
      consumes:
      - text/html
      description: 必须登陆
      parameters:
      - description: 小说id
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 订阅小说
      tags:
      - novel
  /api/v1/novel/volume/:
    get:
      consumes:
      - text/html
      parameters:
      - description: 小说ID
        in: formData
        name: id
        required: true
        type: integer
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.NovelListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 分卷列表
      tags:
      - volume
  /api/v1/search/archive/:
    get:
      consumes:
      - text/html
      parameters:
      - description: 搜索关键词
        in: formData
        name: keyword
        required: true
        type: string
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.ArchiveListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 搜索文章
      tags:
      - search
      - archive
  /api/v1/search/novel/:
    get:
      consumes:
      - text/html
      parameters:
      - description: 搜索关键词
        in: formData
        name: keyword
        required: true
        type: string
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.NovelListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 搜索小说
      tags:
      - search
      - novel
  /api/v1/upload/:
    post:
      consumes:
      - text/html
      description: 必须要登陆，文件ID就是在这里去拿的，图片等静态 文件可以直接访问/img/*获得，novel必须要经过/download
      parameters:
      - description: 类型，分为novel,img两个，如果是img则可以直接去静态文件请求
        in: formData
        name: type
        required: true
        type: string
      - description: 文件
        in: formData
        name: file
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.FileResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 上传文件
      tags:
      - file
      - volume
  /api/v1/user/:
    delete:
      consumes:
      - text/html
      description: 必须为管理员
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除用户
      tags:
      - user
      - admin
    get:
      consumes:
      - text/html
      description: 如果ID为0就是查看自己
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.UserResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 获取用户详细
      tags:
      - user
    put:
      consumes:
      - text/html
      parameters:
      - description: 昵称
        in: formData
        name: nickname
        type: string
      - description: 用户头像
        in: formData
        name: avatar
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.UserResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 更新用户信息
      tags:
      - user
  /api/v1/user/book:
    get:
      consumes:
      - text/html
      parameters:
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.NovelListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 书架列表
      tags:
      - user
      - novel
  /api/v1/user/comments/:
    get:
      consumes:
      - text/html
      parameters:
      - description: Pages
        in: formData
        name: page
        type: integer
      - description: Limit
        in: formData
        name: limit
        type: integer
      - description: Offset
        in: formData
        name: offset
        type: integer
      - description: PageSize default is 10
        in: formData
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.CommentListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 获取用户发送的评论列表
      tags:
      - comment
      - user
  /api/v1/user/login:
    get:
      consumes:
      - text/html
      parameters:
      - description: 用户名
        in: formData
        name: username
        required: true
        type: string
      - description: 密码
        in: formData
        name: password
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.UserResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 用户登录
      tags:
      - user
  /api/v1/user/register:
    post:
      consumes:
      - text/html
      description: 必须要先从/api/v1/verify 处获取验证码
      parameters:
      - description: 用户名
        in: formData
        name: username
        required: true
        type: string
      - description: 昵称（可更改）
        in: formData
        name: nickname
        required: true
        type: string
      - description: 密码
        in: formData
        name: password
        required: true
        type: string
      - description: 邮箱
        in: formData
        name: mail
        required: true
        type: string
      - description: 重复一遍密码用于验证
        in: formData
        name: password_confirm
        required: true
        type: string
      - description: 验证码
        in: formData
        name: verify_code
        required: true
        type: string
      - description: 验证码ID
        in: formData
        name: verify_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.UserResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 用户注册
      tags:
      - user
  /api/v1/user/sendmail:
    get:
      consumes:
      - text/html
      description: 必须要先从/api/v1/verify 处获取验证码
      parameters:
      - description: 验证码
        in: query
        name: verify_code
        required: true
        type: string
      - description: 验证码ID
        in: query
        name: verify_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      summary: 发送用户验证邮件
      tags:
      - user
  /api/v1/user/verify:
    get:
      consumes:
      - text/html
      description: 必须要先从/api/v1/verify 处获取验证码
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Verify'
      summary: 验证码获取
      tags:
      - user
  /api/v1/volume/:
    delete:
      consumes:
      - text/html
      description: 必须为管理员
      parameters:
      - description: 小说ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除分卷
      tags:
      - volume
      - admin
    get:
      consumes:
      - text/html
      description: 必须登陆,请到/api/v1/download下载
      parameters:
      - description: 分卷ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.FileResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 获取分卷下载连接
      tags:
      - volume
    post:
      consumes:
      - text/html
      description: 必须登陆
      parameters:
      - description: 小说ID
        in: path
        name: id
        required: true
        type: integer
      - description: 分卷标题
        in: formData
        name: title
        required: true
        type: string
      - description: 分卷封面，URL，如果封面为空的话泽会自动替换。默认封面请检查conf.DefaultCover字段
        in: formData
        name: cover
        type: string
      - description: 文件ID
        in: formData
        name: file
        type: integer
      - description: 分卷顺序
        in: formData
        name: z_index
        type: integer
      - description: 类型，0为本地，1为远程
        in: formData
        name: type
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.VolumeResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 创建小说分卷
      tags:
      - volume
      - admin
    put:
      consumes:
      - text/html
      description: 必须登陆
      parameters:
      - description: 分卷ID
        in: path
        name: id
        required: true
        type: integer
      - description: 分卷标题
        in: formData
        name: title
        required: true
        type: string
      - description: 分卷封面，URL，如果封面为空的话泽会自动替换。默认封面请检查conf.DefaultCover字段
        in: formData
        name: cover
        type: string
      - description: 文件ID
        in: formData
        name: file
        type: integer
      - description: 小说ID
        in: formData
        name: novel
        type: integer
      - description: 分卷顺序
        in: formData
        name: z_index
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/serializer.VolumeResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/serializer.Response'
      security:
      - ApiKeyAuth: []
      summary: 更新小说分卷
      tags:
      - volume
      - admin
swagger: "2.0"
